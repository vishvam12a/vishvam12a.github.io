---
const projects = [
  {
    title: "OSINT Tool",
    url: "https://github.com/vishvam12a/Osinttool_project",
    description: "Developed an OSINT API to search for leaked usernames and retrieve associated details for cybersecurity investigations. Enables efficient threat intelligence gathering and data breach analysis for enhanced security monitoring. Designed with scalability and data privacy in mind, ensuring secure and effective OSINT operations.",
    technologies: ["Python", "API", "Data Analysis"],
    image: "/images/projects/osint-tool.png"
  },
  {
    title: "Telepass",
    url: "https://github.com/vishvam12a/Telepass.git",
    description: "Secure Telegram-Based Password Manager utilizing 2048-bit RSA encryption with separate public/private key pairs to ensure MITM protection and user-specific encrypted storage. Supports CRUD operations (/add, /get, /delete, /list), ensuring no plaintext password storage with secure key management. Uses JSON-based encrypted storage with runtime read/write and user data isolation for enhanced security.",
    technologies: ["Telegram API", "RSA Encryption", "JSON", "Python"],
    image: "/images/projects/telepass3.png"
  },
  {
    title: "Sharenrypt",
    url: "https://github.com/vishvam12a/Sharenrypt-p2p-file-sharing",
    description: "Built a secure P2P file sharing system using JavaScript and Node.js with a custom WebSocket relay server. Implemented end-to-end encryption (AES-GCM) with unique session keys for secure file transfer. Enabled NAT/firewall traversal and automatic reconnection without relying on WebRTC. Designed chunked file transfer with real-time progress tracking. Deployed server and client across platforms like Heroku, AWS, Netlify, and Vercel.",
    technologies: ["JavaScript", "Node.js", "WebSockets", "AES-GCM"],
    image: "/images/projects/sharenrypt.png"
  },
  {
    title: "Absconders Portal",
    url: "https://github.com/Bharat-First-Shield/absconders-portal",
    description: "Management system for maintaining records of absconders in the western region built with TypeScript and JavaScript. Developed for State Cyber Crime Cell, Gandhinagar to streamline tracking of wanted individuals.",
    technologies: ["TypeScript", "JavaScript", "Database", "Authentication"],
    image: "/images/projects/absconders-portal.png"
  },
  {
    title: "MangaDloader",
    url: "https://github.com/vishvam12a/MangaDloader-Manhwa18.cc",
    description: "MangaDloader is a lightning-fast manga chapter downloader that scrapes and previews manga images directly from source websites. Built with modern web tech (Next.js, TypeScript, Tailwind), it lets you enter a manga title and chapter range to view and download high-quality images instantly. Clean UI, smooth UX, and powerful scraping.",
    technologies: ["TypeScript", "Next.js", "React", "ShadCN UI", "Tailwind CSS", "Lucide Icons", "Cheerio"],
    image: "/images/projects/MangaDloader.png"
  },
  {
    title: "AWSeye",
    url: "https://github.com/vishvam12a/AWSeye-AWS-Rekognition",
    description: "Harness AWS Rekognition for automated object detection in images and face detection in S3 videos, with results visualized and structured in DataFrames. This project integrates AWS services to streamline image and video analysis, providing a powerful tool for developers and researchers.",
    technologies: ["Python", "AWS Rekognition", "S3", "DataFrames"],
    image: "/images/projects/AWSeye.png"
  }
];
---

<section id="projects" class="py-20 bg-white dark:bg-gray-900 overflow-hidden">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4" data-aos="fade-up">Projects</h2>
      <div class="w-20 h-1 bg-primary-500 mx-auto mb-8" data-aos="fade-up" data-aos-delay="100"></div>
      <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto" data-aos="fade-up" data-aos-delay="200">
        A selection of cybersecurity projects showcasing my technical skills and problem-solving abilities.
      </p>
    </div>
    
    <div class="film-reel-container" data-aos="fade-up">
     
      
      <div class="swiper projects-swiper">
        <div class="swiper-wrapper">
          {projects.map((project) => (
            <div class="swiper-slide">
              <div class="bg-gray-50 dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg h-full film-slide">
                <div class="relative h-48 overflow-hidden">
                  <img 
                    src={project.image} 
                    alt={project.title} 
                    class="w-full h-full object-cover"
                    width="800"
                    height="400"
                  />
                </div>
                <div class="p-6">
                  <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">
                    <a href={project.url} target="_blank" rel="noopener noreferrer" class="hover:text-primary-600 dark:hover:text-primary-400">
                      {project.title}
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                      </svg>
                    </a>
                  </h3>
                  <p class="text-gray-600 dark:text-gray-300 mb-4">{project.description}</p>
                  <div class="flex flex-wrap gap-2">
                    {project.technologies.map(tech => (
                      <span class="px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-sm">
                        {tech}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </div>
  </div>
</section>

<script>
  import Swiper from 'swiper';
  import { Navigation, Pagination, Autoplay, EffectCoverflow } from 'swiper/modules';
  import 'swiper/css';
  import 'swiper/css/navigation';
  import 'swiper/css/pagination';
  import 'swiper/css/effect-coverflow';

  function initSwiper() {
    const projectsSwiper = new Swiper('.projects-swiper', {
      modules: [Navigation, Pagination, Autoplay, EffectCoverflow],
      effect: 'coverflow',
      grabCursor: true,
      centeredSlides: true,
      slidesPerView: 'auto',
      coverflowEffect: {
        rotate: 20,
        stretch: 0,
        depth: 200,
        modifier: 1,
        slideShadows: true,
      },
      loop: true,
      autoplay: {
        delay: 3000,
        disableOnInteraction: false,
        pauseOnMouseEnter: true,
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      breakpoints: {
        640: {
          slidesPerView: 2,
        },
        1024: {
          slidesPerView: 3,
        },
      },
    });
  }

  // Initialize on page load and after view transitions
  document.addEventListener('astro:page-load', initSwiper);
  document.addEventListener('astro:after-swap', initSwiper);
</script>

<style>
  .film-reel-container {
    position: relative;
    padding: 40px 0;
    perspective: 1000px;
  }

  .film-strip-top,
  .film-strip-bottom {
    position: absolute;
    left: 0;
    right: 0;
    height: 24px;
    background-image: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 15px,
      #000 15px,
      #000 30px
    );
    z-index: 10;
  }

  .film-strip-top {
    top: 0;
  }

  .film-strip-bottom {
    bottom: 0;
  }

  .film-strip-top::before,
  .film-strip-bottom::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    height: 100%;
    background-image: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 4px,
      rgba(0, 0, 0, 0.8) 4px,
      rgba(0, 0, 0, 0.8) 8px
    );
  }

  .swiper {
    padding: 32px 4px;
    width: 100%;
  }

  .swiper-slide {
    width: 400px;
    transition: transform 0.3s ease;
  }

  .film-slide {
    transform-style: preserve-3d;
    transition: transform 0.5s ease;
  }

  :global(.swiper-button-next),
  :global(.swiper-button-prev) {
    color: theme('colors.primary.500');
  }

  :global(.swiper-pagination-bullet) {
    background: theme('colors.primary.500');
  }

  :global(.dark .swiper-pagination-bullet) {
    background: theme('colors.primary.400');
  }

  @media (prefers-reduced-motion: reduce) {
    .film-slide {
      transition: none;
    }
  }
</style>